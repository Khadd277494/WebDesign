(this["webpackJsonp@zmedia/zmp3-desktop"]=this["webpackJsonp@zmedia/zmp3-desktop"]||[]).push([[14],{1603:function(e,t,n){"use strict";var a=n(8),c=n(0),r=n.n(c),l=n(1),i=n(6),o=n.n(i),s=n(28);n(1604);t.a=Object(c.memo)((function(e){var t=e.images,n=e.isPlay,i=void 0!==n&&n,u=e.timeout,m=void 0===u?10:u,d=e.shuffle,b=void 0===d||d,f=e.once,E=e.className,O=Object(c.useState)(0),h=Object(a.a)(O,2),g=h[0],v=h[1],j=Object(c.useMemo)((function(){return b?s.Array.shuffle(t):t}),[t]),p=Object(c.useRef)(g),I=Object(c.useRef)(!f);p.current=g,Object(c.useEffect)((function(){if(i&&!f){var e=setTimeout((function(){v(g===j.length-1?0:g+1)}),1e3*m);return function(){return clearTimeout(e)}}}),[j,g,i,f]),Object(c.useEffect)((function(){i&&f&&(I.current=!0,v(g===j.length-1?0:g+1))}),[i]);var N=Object(c.useMemo)((function(){return g<=0?[j[j.length-1],j[0]]:[j[g-1],j[g]]}),[j,g]);return r.a.createElement(l.l,{className:o()("image-effect",E,{"is-play":i})},r.a.createElement(l.l,{renderAs:"ul"},N.map((function(e,t){var n=t===N.length-1;return r.a.createElement(l.l,{renderAs:"li",key:"".concat(t,"-").concat(e),className:o()({enter:!!I.current&&n,exit:!!I.current&&!n})},r.a.createElement(l.l,{renderAs:"img",src:e}))}))))}))},1604:function(e,t,n){},1605:function(e,t,n){},1606:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a=function(e){return e.nonLogged.recentSongs},c=function(e){return e.nonLogged.recentPlaylists}},1607:function(e,t,n){"use strict";var a=n(0);t.a=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current}},1642:function(e,t,n){"use strict";var a,c,r=n(0),l=n.n(r),i=n(1),o=n(5),s=n(17),u=n(27),m=n(15),d=n(8),b=n(6),f=n.n(b),E=n(60),O=n(34),h=n(10),g=n(109),v=n(195),j=n(116),p=n(7),I=n(29),N=n(18),y=n(9),A=n(2),M=n(33),T=n(286),k=n(448),S=n(283);!function(e){e[e.FAVORITE=0]="FAVORITE",e[e.MV=1]="MV",e[e.ADD_TO_QUEUE=2]="ADD_TO_QUEUE",e[e.ADD_NEXT_PLAYING=3]="ADD_NEXT_PLAYING",e[e.REMOVE_FROM_QUEUE=4]="REMOVE_FROM_QUEUE",e[e.MORE=5]="MORE",e[e.ADD_TO_PLAYLIST=6]="ADD_TO_PLAYLIST",e[e.COMMENT=7]="COMMENT",e[e.SHARE=8]="SHARE",e[e.KARAOKE=9]="KARAOKE",e[e.RADIO=10]="RADIO",e[e.DOWNLOAD=11]="DOWNLOAD",e[e.RINGTONE=12]="RINGTONE",e[e.COPY_LINK=13]="COPY_LINK",e[e.PLAY_SIM_SONG=14]="PLAY_SIM_SONG"}(c||(c={}));a={},Object(y.a)(a,c.ADD_TO_PLAYLIST,T.a),Object(y.a)(a,c.COMMENT,M.b),Object(y.a)(a,c.SHARE,M.i),Object(y.a)(a,c.RINGTONE,k.a);var _=[c.FAVORITE,c.MORE];c.FAVORITE,c.MORE,c.ADD_TO_QUEUE,c.MORE,c.ADD_TO_QUEUE,c.ADD_NEXT_PLAYING,c.PLAY_SIM_SONG,c.RINGTONE,c.ADD_TO_PLAYLIST,c.COMMENT,c.COPY_LINK,c.SHARE,c.RINGTONE,c.ADD_TO_PLAYLIST,c.KARAOKE,c.COMMENT,c.COPY_LINK,c.SHARE,c.REMOVE_FROM_QUEUE,c.FAVORITE,c.ADD_NEXT_PLAYING,c.PLAY_SIM_SONG,c.RINGTONE,c.ADD_TO_PLAYLIST,c.COMMENT,c.COPY_LINK,c.SHARE,c.ADD_TO_QUEUE,c.ADD_NEXT_PLAYING,c.PLAY_SIM_SONG,c.RINGTONE,c.ADD_TO_PLAYLIST,c.KARAOKE,c.COMMENT,c.COPY_LINK,c.SHARE;var C=n(107),R=n.n(C),x=function(e){return"number"===typeof e?R.a.unix(e):R()("".concat(e,":GMT+0700"),"DD/MM/YYYY:z")},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=x(e);return R()().diff(a,t,n)},D=function(e){var t=function(e){var t=x(e);return R()().startOf("day").diff(t.startOf("day"),"days")}(e);if(t<0)return"";if(0===t){var n=L(e,"minutes");if(n<1)return"V\u1eeba xong";if(n<60)return"".concat(n," ph\xfat tr\u01b0\u1edbc");var a=L(e,"hours",!0);return a<=6?"".concat(Math.floor(a)," gi\u1edd tr\u01b0\u1edbc"):"H\xf4m nay"}return 1===t?"H\xf4m qua":t<=6?"".concat(t," ng\xe0y tr\u01b0\u1edbc"):t<28?"".concat(Math.floor(t/7)," tu\u1ea7n tr\u01b0\u1edbc"):x(e).format("DD/MM/YYYY")};var P=Object(r.memo)((function(e){var t=e.typeButtons,n=void 0===t?_:t,a=e.item,r=e.handleContextMenu,o=e.hideContextMenu,s=e.isShowContextMenu;return l.a.createElement(l.a.Fragment,null,function(e,t){return e.map((function(e){return l.a.createElement(i.y.Item,{key:e},function(e){var t,n=e.type,a=e.playlist,r=e.showText,i=e.showContextMenu,o=e.isShowContextMenu;switch(n){case c.FAVORITE:t=l.a.createElement(M.e,{objectId:a.encodeId,objectType:A.N.PLAYLIST,showText:r,object:a});break;case c.MORE:t=l.a.createElement(S.a,{object:a,showContextMenu:i,isShowContextMenu:o});break;default:return null}return t}({type:e,playlist:t,showText:!1,showContextMenu:r,hideContextMenu:o,isShowContextMenu:s}))}))}(n,a))})),w=(n(1605),function(e){var t=e.item,n=e.handleContextMenu,a=e.isShowContextMenu;return l.a.createElement(i.A.Right,null,l.a.createElement(i.l,{className:"hover-items"},l.a.createElement(i.y,null,l.a.createElement(P,{item:t,handleContextMenu:n,isShowContextMenu:a}))),l.a.createElement(i.l,{className:"action-items"},l.a.createElement(i.y,null,l.a.createElement(P,{typeButtons:[c.FAVORITE],item:t,handleContextMenu:n,isShowContextMenu:a}),l.a.createElement(i.y.Item,{className:"duration"},Object(I.formatTime)(300)))))}),Y=function(e){var t=e.time;return l.a.createElement(i.l,{className:"time-release"},l.a.createElement(i.l,{renderAs:"span"},D(t)))},F=function(e){var t=e.item,n=e.isActive,a=e.isPlaying,c=e.tracking,r=void 0===c?[]:c,o=e.clickTracking,s=void 0===o?[]:o,u=Object(h.i)(),b=u.ref,I=u.ContextMenu,y=u.handleContextMenu,A=u.hideContextMenu,M=u.isShowContextMenu,T=Object(h.C)(),k=Object(d.a)(T,1)[0];Object(E.g)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.b,{playlist:t},l.a.createElement(i.A,{className:f()("zm-new-release-playlist",{active:M||n}),domRef:b,onClick:function(){N.a.apply(void 0,Object(m.a)(s))}},l.a.createElement(i.A.Left,null,l.a.createElement(i.l,{className:"thumb"},l.a.createElement(i.l,{className:"thumb-action"},l.a.createElement(i.x,{src:t.thumbnailM}),l.a.createElement(i.l,{className:"actions",onClick:function(e){k.playPlaylist(t),N.a.apply(void 0,Object(m.a)(r)),p.b.preventDefault(e)}},l.a.createElement(i.r,{icon:a?" ic-gif-playing-white":"play"}))),l.a.createElement(i.x,{className:"disk",src:O.l+"/icons/album-disk.png"})),l.a.createElement(i.l,{className:"card-info"},l.a.createElement(i.M,null,l.a.createElement(i.L,null,t.title)),l.a.createElement(i.M,{subtitle:!0,className:"is-one-line is-truncate"},l.a.createElement(g.a,{artists:t.artists})),l.a.createElement(Y,{time:t.releaseDate}))),l.a.createElement(i.A.Content,null,l.a.createElement(i.l,null,D(t.releaseDate))),l.a.createElement(w,{handleContextMenu:y,item:t,isShowContextMenu:M}))),l.a.createElement(I,null,l.a.createElement(j.a,{playlist:t,hideContextMenu:A})))},G=function(e){var t=e.items,n=e.sectionId,a=e.tracking,c=e.clickTracking,r=e.actionTracking,m=Object(o.c)(s.e),d=Object(o.c)(u.l);return l.a.createElement(i.z,null,t.map((function(e){var t=e.encodeId===m,o=t&&d;return e.sectionId=n,e.actionTracking=r,l.a.createElement(i.z.Item,{className:"bor-b-1",key:e.encodeId},l.a.createElement(F,{item:e,isActive:t,isPlaying:o,tracking:a,clickTracking:c}))})))},z=function(e){var t=e.items,n=e.sectionId,a=e.tracking,c=e.clickTracking,r=e.actionTracking;return t.length?l.a.createElement(l.a.Fragment,null,l.a.createElement(i.A,{className:"top-header"},l.a.createElement(i.A.Left,null,l.a.createElement(i.l,{className:"column-text"},"Album")),l.a.createElement(i.A.Content,null,l.a.createElement(i.l,{className:"column-text"},"Ph\xe1t h\xe0nh")),l.a.createElement(i.A.Right,null,l.a.createElement(i.l,{className:"column-text"}," Th\u1eddi gian"))),l.a.createElement(G,{items:t,sectionId:n,tracking:a,clickTracking:c,actionTracking:r})):null},B=n(3),H=n(187),U=n(11),V=n(31),X=n(45),K=n(69),Q=function(e){var t=e.song,n=Object(r.useMemo)((function(){return l.a.createElement(i.l,null,D(t.album?t.album.releaseDate:t.releaseDate))}),[t]),a=l.a.createElement(X.f,{type:K.a.ICON,icon:"song"});return l.a.createElement(X.l,Object.assign({},e,{songMiddle:n,songLeftBefore:a}))},q=function(e){var t=e.items,n=e.sectionId,a=e.tracking,c=e.actionTracking,r=Object(o.c)(s.b),i=Object(o.c)(u.l),m=Object(o.c)(V.i),b=Object(o.c)(V.a),f=Object(o.c)(u.h),E=Object(o.c)(U.m),O=Object(o.c)(U.q),g=Object(h.C)(),v=Object(d.a)(g,1)[0],j=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.playSongInList(e,Object(B.a)(Object(B.a)({},a),{},{songs:t.map((function(e){return!e.sectionId&&n?Object(B.a)(Object(B.a)({},e),{},{sectionId:n}):Object(B.a)({},e)}))}))};return l.a.createElement(H.b,{items:t,renderItem:function(e){var o=t[e];if(!o)return l.a.createElement(l.a.Fragment,null);var s=o.encodeId===r,u=i&&s,d=f&&s;return o.sectionId=n,o.actionTracking=c,l.a.createElement(Q,{key:o.encodeId,order:e+1,song:o,currentEncodeId:r,isActive:s,isPlaying:u,isBuffering:d,mediasBlocked:m,artistsBlocked:b,streamPrivilege:O,isUserVN:E,playSongFn:j,tracking:a,className:"bor-b-1"})},className:"",disableSort:!0,columnTexts:["B\xe0i h\xe1t","Ph\xe1t h\xe0nh","Th\u1eddi gian"]})};n.d(t,"a",(function(){return z})),n.d(t,"c",(function(){return Y})),n.d(t,"b",(function(){return q}))},1645:function(e,t,n){},1661:function(e,t,n){},1662:function(e,t,n){},1663:function(e,t,n){},1664:function(e,t,n){},1665:function(e,t,n){},1666:function(e,t,n){},1667:function(e,t,n){},1668:function(e,t,n){},1819:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(8),r=n(9),l=n(0),i=n.n(l),o=n(5),s=n(81),u=n(2),m=n(10),d=n(73),b=n(1),f=n(11),E=n(87),O=n(27),h=n(17),g=n(60),v=n(38),j=n(1603),p=n(39),I=n(195),N=n(28),y=n(116),A=n(109),M=Object(l.memo)((function(e){var t=e.playlist,n=e.isPlaying,a=e.isBuffering,r=void 0!==a&&a,o=e.isActive,s=void 0!==o&&o,d=e.isOwner,f=void 0!==d&&d,E=e.animate,O=Object(g.g)(),h=Object(m.C)(),M=Object(c.a)(h,1)[0],T=Object(m.i)(),k=T.ref,S=T.ContextMenu,_=T.handleContextMenu,C=T.hideContextMenu,R=T.isShowContextMenu,x=t.thumbnails,L=void 0===x?[]:x,D=t.thumbnailM,P=t.artists,w=void 0===P?[]:P,Y=t.description,F=Object(l.useMemo)((function(){return N.Array.isEmpty(L)?[D]:N.Array.shuffle(L)}),[]);return i.a.createElement(b.e,{className:"zm-playlist-item-animation",domRef:k},i.a.createElement(b.e.Image,{className:n||R?"active":""},i.a.createElement(I.b,{playlist:t},i.a.createElement(j.a,{images:F,isPlay:E,timeout:2,once:!0,shuffle:!1}),i.a.createElement(b.F,null),i.a.createElement(p.a,{className:"playlist-actions",objectId:t.encodeId,object:t,haveLikeBtn:!t.isDailymix&&!f,haveOtherBtn:!t.isDailymix,isPlaying:n,isBuffering:r,isActive:s,handleContext:_,playFn:function(){M.playPlaylist(t),s||O.push(t.link)},thumbnail:t.thumbnailM,objectType:t.isAlbum?u.N.ALBUM:u.N.PLAYLIST}))),i.a.createElement(b.e.Content,null,i.a.createElement(j.a,{images:F,isPlay:E,timeout:2,once:!0,shuffle:!1}),i.a.createElement(b.l,{className:"content"},i.a.createElement(v.b,{to:t.link},i.a.createElement(b.l,{className:"name"},t.title)),i.a.createElement(b.l,{className:"artist"},N.Array.isEmpty(w)?Y:i.a.createElement(b.M,{subtitle:!0,className:"is-one-line is-truncate"},i.a.createElement(A.a,{artists:w}))))),i.a.createElement(S,null,i.a.createElement(y.a,{playlist:t,hideContextMenu:C})))})),T=n(6),k=n.n(T),S=(n(1661),Object(l.memo)((function(e){var t=e.items,n=void 0===t?[]:t,a=e.sectionId,r=e.autoSlider,s=e.subTitle,u=e.title,m=e.link,d=e.className,g=Object(o.c)(h.e),v=Object(o.c)(f.t),j=Object(o.c)(O.l),I=Object(o.c)(O.h),N=Object(o.c)(E.c),y=Object(l.useMemo)((function(){return n.slice(0,5).filter((function(e){var t;return(null===e||void 0===e||null===(t=e.thumbnails)||void 0===t?void 0:t.length)>2})).map((function(e){return e.encodeId}))}),[]),A=Object(l.useState)(y[0]),T=Object(c.a)(A,2),S=T[0],_=T[1];Object(l.useEffect)((function(){var e=setTimeout((function(){var e=y.indexOf(S),t=e===y.length-1?0:e+1;_(y[t])}),2e3);return function(){return clearTimeout(e)}}),[S,y]);return i.a.createElement(b.J,{className:k()("playlist-section",d)},i.a.createElement(b.i,null,s?i.a.createElement(p.c,{subTitle:s,title:u}):i.a.createElement(p.e,{link:m,title:u}),i.a.createElement(b.f,{infinite:r,hideArrow:!0},n.map((function(e,t){return function(e,t){e.zoneid&&N[e.zoneid]&&(e=N[e.zoneid]);var n=e.encodeId===g,c=n&&j,r=v>0&&v===e.uid,l=I&&n,o=S===e.encodeId;return e.sectionId=a,i.a.createElement(M,{key:e.encodeId,playlist:e,isActive:n,isPlaying:c,isOwner:r,isBuffering:l,animate:o})}(e)})))))}))),_=n(193),C=n(227);var R=Object(l.memo)((function(e){var t=e.item,n=e.sectionId,a=Object(o.c)(h.e),r=Object(o.c)(O.l),s=t.encodeId===a,u=s&&r,d=Object(l.useState)("rgba(0, 0, 0, 0.7)"),f=Object(c.a)(d,2),E=f[0],g=f[1],j=Object(l.useState)("".concat(19,"px")),p=Object(c.a)(j,2),N=p[0];p[1],t.sectionId=n;var A=Object(m.i)(),M=A.ref,T=A.ContextMenu,k=A.isShowContextMenu,S=A.handleContextMenu,_=A.hideContextMenu,C=Object(m.C)(),R=Object(c.a)(C,1)[0],x=t.song,L=t.artistsNames,D=t.link,P=Object(l.useCallback)((function(){var e;R.playPlaylist(t,{domRect:null===M||void 0===M||null===(e=M.current)||void 0===e?void 0:e.getBoundingClientRect()})}),[t]),w=Object(l.useMemo)((function(){var e;return(null===x||void 0===x||null===(e=x.items)||void 0===e?void 0:e.slice(0,3).map((function(e){return e.thumbnail})))||[]}),[x]),Y=Object(m.q)({delayEnter:100}),F=Object(c.a)(Y,2),G=F[0],z=F[1];return Object(l.useEffect)((function(){m.a.getColor(t.thumbnailM).then((function(e){return g(e)}))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(v.b,{to:D},i.a.createElement(b.l,Object.assign({className:"playlist-wrapper",domRef:M},z),i.a.createElement(b.e,null,i.a.createElement(I.c,{playlist:t,handleContextMenu:S,isShowContextMenu:G||k,isActive:s,isPlaying:u,playFn:P}),i.a.createElement(b.l,{className:"blur-bg",style:{backgroundImage:"linear-gradient(\n                                    to bottom,\n                                    rgba(0, 0, 0, 0),\n                                    rgba(0, 0, 0, 0) 50%,\n                                    ".concat(E,"\n                                )")}}),i.a.createElement(b.l,{className:"mix-content"},i.a.createElement(b.M,null,i.a.createElement(b.L,{lines:2,minFontSize:N,allowCutting:!0},L)),i.a.createElement(b.l,{className:"thumbs"},w.map((function(e,t){return i.a.createElement(b.l,{key:t,className:"thumb-item"},i.a.createElement(b.x,{src:e}))}))))))),i.a.createElement(T,null,i.a.createElement(y.a,{songs:[],playlist:t,hideContextMenu:_})))})),x=["V\xec b\u1ea1n y\xeau th\xedch","B\u1ea1n \u0111\xe3 quan t\xe2m","T\u1eeb th\u01b0 vi\u1ec7n c\u1ee7a b\u1ea1n","V\xec b\u1ea1n nghe nhi\u1ec1u","B\u1ea1n nghe g\u1ea7n \u0111\xe2y","C\xf3 th\u1ec3 b\u1ea1n th\xedch"],L=Object(l.memo)((function(e){var t=e.items,n=void 0===t?[]:t,a=e.fullhd,c=void 0===a?20:a,r=e.widescreen,l=void 0===r?20:r,o=e.desktop,s=void 0===o?3:o,u=e.touch,m=void 0===u?3:u,d=e.tablet,b=void 0===d?3:d,f=e.autoSlider,E=e.sectionId;if(N.Array.isEmpty(n))return null;var O=N.Array.shuffle(x);return i.a.createElement(C.b,{infinite:f,hideArrow:!0},n.map((function(e,t){return function(e,t){var n=O[t%O.length];return i.a.createElement(R,{key:"mix.".concat(e.encodeId),fullhd:c,widescreen:l,desktop:s,touch:m,tablet:b,item:e,sectionId:E,subTitle:n})}(e,t)})))})),D=(n(657),Object(l.memo)((function(e){var t=e.items,n=void 0===t?[]:t,a=e.viewType,c=(void 0===a&&u.qb.SLIDER,e.title),r=e.link,l=e.className,o=void 0===l?"":l,s=e.sectionId,m=e.subTitle,d=e.options,f=(void 0===d?{}:d).autoSlider;if(!n.length)return null;return i.a.createElement(b.J,{className:k()("mix-section",o)},i.a.createElement(b.i,null,m?i.a.createElement(p.c,{subTitle:m,title:c}):i.a.createElement(p.e,{link:r,title:c}),i.a.createElement(L,{autoSlider:f,items:n,sectionId:s})))}))),P=n(45),w=n(416),Y=n(170),F=n(160),G=n(158),z=n(7),B=n(85),H=n(194),U=n(13),V="/page/get/home",X="/user/recent-play-home",K="/song/get/section-song-station",Q={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2?arguments[2]:void 0,a={page:e,count:t};return(n||[]).length>0&&(a.segments=n),Object(U.c)((function(){return Object(U.d)(V,a)}))},getRecentHome:function(){return Object(U.c)((function(){return Object(U.d)(X)}))},getSongStation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;return Object(U.c)((function(){return Object(U.d)(K,{count:e})}))}},q=(n(1662),n(18)),J=Object(l.memo)((function(e){var t=e.item,n=e.sectionId,a=Object(m.C)(),r=Object(c.a)(a,1)[0],l=t.playlist,s=t.title,u=t.subtitle,d=t.icon,f=Object(o.c)(h.e),E=Object(o.c)(O.l),g=l.encodeId===f,v=g&&E,j=Object(o.c)(O.h)&&g,p=function(){l.sectionId=n,r.playPlaylist(l),Object(q.a)("Home","HActivities_tags",u)};return i.a.createElement(b.A,{className:"zm-genre-mood-item",onClick:p},i.a.createElement(b.A.Left,null,i.a.createElement(b.t,{src:l.thumbnail}),i.a.createElement(b.l,{className:"action"},i.a.createElement(b.s,{isPlaying:v,onClick:p,isOutlinePlayBtn:!1,className:g&&j?"is-hide":""}),g&&j&&i.a.createElement(b.c,{className:j?"":"is-hide"}))),i.a.createElement(b.A.Content,null,i.a.createElement(b.M,{title:s},i.a.createElement(b.L,null,s)),i.a.createElement(b.M,{subtitle:!0},i.a.createElement(b.t,{src:d})," ",u)))})),W=(n(1663),Object(l.memo)((function(e){var t=e.items,n=e.className,a=e.title,c=e.link,r=e.sectionId;return i.a.createElement(b.J,{className:k()("zm-genre-mood-home-section",n)},i.a.createElement(p.e,{link:c,title:a}),i.a.createElement(b.h,{oneline:!0},t.map((function(e,t){return i.a.createElement(b.h.Column,{fullhd:3,tablet:4,marginClass:"mar-b-0"},i.a.createElement(J,{key:t,item:e,sectionId:r}))}))))}))),Z=function(e){var t=e.children;return i.a.createElement(b.h,null,i.a.Children.map(t,(function(e,t){var n=2===t?"0":6;return i.a.createElement(l.Fragment,{key:"item-list-".concat(t)},i.a.createElement(b.h.Column,{marginClass:"mar-b-0",fullhd:4,widescreen:4,desktop:4,touch:n,tablet:n},e))})))},$=n(1642),ee=(n(1664),"ALL"),te=[{id:ee,text:"T\u1ea5t c\u1ea3",labelGA:"All",filter:"all",itemKey:"all"},{id:"VPOP",text:"Vi\u1ec7t Nam",labelGA:"VietNam",filter:"vpop",itemKey:"vPop"},{id:"OTHERS",text:"Qu\u1ed1c t\u1ebf",labelGA:"QuocTe",filter:"usuk",itemKey:"others"}],ne=["Home Section","_hNewReleases_play","Single"],ae=["Home Section","_hNewRelease_actionSong"],ce={songMiddle:null,thumbSize:60,buttonsType:[P.b.FAVORITE,P.b.ADD_TO_QUEUE,P.b.ADD_NEXT_PLAYING,P.b.PLAY_SIM_SONG,P.b.ADD_TO_PLAYLIST,P.b.COMMENT,P.b.COPY_LINK,P.b.SHARE],otherInfo:function(e){var t,n,a=e.song;return i.a.createElement($.c,{time:null!==(t=null===(n=a.album)||void 0===n?void 0:n.releaseDate)&&void 0!==t?t:a.releaseDate})}},re=function(e){var t=e.items,n=e.sectionId,r=e.genreId,s=Object(m.C)(),u=Object(c.a)(s,1)[0],d=Object(o.b)(),b=Object(l.useRef)(t);b.current=t;var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=function(){d(Object(Y.e)(r))};e&&u.playSongInList(e,Object(a.a)(Object(a.a)({},t),{},{songs:b.current.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{sectionId:n,listInfo:{title:"M\u1edbi ph\xe1t h\xe0nh",link:"/",scrollTo:"zm-new-release-section",afterClickFn:c}})}))}))};return i.a.createElement(Z,null,Array.from({length:3}).map((function(e,a){return i.a.createElement(l.Fragment,{key:"song-list-item-".concat(a)},i.a.createElement(P.m,{items:t.slice(4*a,4*(a+1)),SongItemProps:ce,sectionId:n,tracking:ne,actionTracking:ae,playSongFn:f}))})))},le=Object(l.memo)((function(e){var t=e.items,n=e.className,a=e.title,r=e.link,s=void 0===r?"/new-release/song":r,u=e.sectionId,m=void 0===u?"_hNewReleases":u,d=Object(o.b)(),f=Object(o.c)(F.b),E=Object(l.useState)(f||ee),O=Object(c.a)(E,2),h=O[0],g=O[1];if(Object(l.useEffect)((function(){f&&g(f)}),[f]),!t)return i.a.createElement(i.a.Fragment,null);var v=te.find((function(e){return e.id===h}));if(!v)return i.a.createElement(i.a.Fragment,null);var j=t[v.itemKey]||[],I="".concat(s,"?filter=").concat(v.filter);return i.a.createElement(b.J,{className:k()("zm-new-release-section",n)},i.a.createElement(p.e,{link:I,title:a,tracking:["Home Section","_hNewRelease_viewAll"]}),i.a.createElement(b.l,{className:"genre-select"},te.map((function(e){return i.a.createElement(b.d,{key:e.id,onClick:function(){return function(e){var t;g(e),d(Object(Y.e)(e));var n=null===(t=te.find((function(t){return t.id===e})))||void 0===t?void 0:t.labelGA;Object(q.a)("Home Section","_hNewReleases_tab",n)}(e.id)},className:k()({active:h===e.id})},e.text)}))),i.a.createElement(re,{items:j,sectionId:m,genreId:h}))})),ie=n(422),oe=n(1606),se=function(e){var t=Object(o.c)(oe.a);return i.a.createElement(ie.a,Object.assign({},e,{items:t,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20}))},ue=n(61),me=(n(1665),function(e){var t=e.source;return i.a.createElement(b.l,{className:"zm-partner-item"},i.a.createElement(b.l,{className:"content"},i.a.createElement(b.x,{src:t})))}),de=Object(l.memo)((function(){var e=Object(o.c)(ue.f),t=Object(l.useMemo)((function(){var t=e||{},n=t.title,a=t.items,c=void 0===a?[]:a,r=t.isShuffle,l=void 0===r||r,i=t.maxItems;return{title:n,maxItems:void 0===i?16:i,items:l?N.Array.shuffle(c):c}}),[e]),n=Object(m.z)(),a=n.Modal,c=n.show,r=n.hide;return t?i.a.createElement(b.i,{className:"zm-partner-section"},i.a.createElement(b.M,null,i.a.createElement(b.l,{renderAs:"span",onClick:c},t.title)),i.a.createElement(b.h,{multiline:!0},null===t||void 0===t?void 0:t.items.slice(0,t.maxItems).map((function(e,t){return function(e,t){return i.a.createElement(b.h.Column,{key:t,widescreen:3,fullhd:3,desktop:3,touch:3,tablet:3},i.a.createElement(me,{source:e}))}(e,t)}))),i.a.createElement(a,null,i.a.createElement(b.l,{className:"zm-partner-modal"},i.a.createElement(b.M,null,t.title),null===t||void 0===t?void 0:t.items.map((function(e,t){return i.a.createElement(b.h.Column,{key:t,widescreen:20,fullhd:20,desktop:20,touch:3,tablet:3},i.a.createElement(me,{source:e}))})),i.a.createElement(b.P,{title:"\u0110\xf3ng",icon:"close",className:"close-btn",onClick:r})))):i.a.createElement(i.a.Fragment,null)})),be=n(196),fe=n(125),Ee=n(435),Oe=n(224),he=(n(1666),Object(l.memo)((function(e){var t=e.className,n=e.title,a=e.link;return i.a.createElement(b.J,{className:k()("playlist-section zm-home-recent",t)},i.a.createElement(b.i,null,i.a.createElement(p.e,{link:a,title:n}),i.a.createElement(ge,e)))})));function ge(e){var t,n=Object(o.c)(h.e),a=Object(o.c)(f.t),r=Object(o.c)(O.l),d=Object(o.c)(O.h),E=Object(o.c)(fe.c),g=Object(o.c)(fe.i),v=Object(o.c)(fe.g),j=Object(m.x)(),p=Object(c.a)(j,1)[0],I=Object(l.useCallback)((function(e){p.playLivestream(e)}),[]),N=e.sectionId,y=e.autoSlider,A=Object(m.e)((function(){return Q.getRecentHome()})),M=Object(c.a)(A,2),T=M[0],k=M[1];Object(l.useEffect)((function(){k()}),[]);var S=(null===T||void 0===T||null===(t=T.value)||void 0===t?void 0:t.data)||[];return z.q.debug("PlaylistList | render"),T.loading?i.a.createElement(s.a,{showTitle:!1,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20,viewType:u.qb.SLIDER,countSection:1,className:"loader"}):i.a.createElement(b.f,{infinite:y,hideArrow:!0},S.map((function(e){return e.type===u.N.LIVESTREAM?function(e){var t=e.encodeId===E,n=t&&g,a=t&&v;return e.sectionId="hRecent",i.a.createElement(Ee.a,{item:e,key:e.encodeId,playFn:I,isPlaying:n,isBuffering:a,isLive:!0,hideActiveUsers:!0,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20})}(e):e.type===u.N.PODCAST?function(e){return i.a.createElement(Oe.a,{item:e,key:e.encodeId,sectionId:N,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20,showLabel:!0})}(e):function(e){var t=e.encodeId===n,c=t&&r,l=a>0&&a===e.uid,o=d&&t;return e.sectionId=N,i.a.createElement(be.a,{key:e.encodeId,playlist:e,isActive:t,isPlaying:c,isOwner:l,isBuffering:o,fullhd:"1.4",widescreen:"1.4",desktop:2,touch:20,tablet:20,itemType:"title"})}(e)})))}var ve=n(12),je=n.n(ve),pe=n(22),Ie=n(40),Ne=n(438),ye=n(129),Ae=(n(1645),["Home Section","_hSongRadio_play"]),Me=["Home Section","_hSongRadio_actionSong"],Te={songMiddle:null,thumbSize:60,buttonsType:[P.b.FAVORITE,P.b.ADD_TO_QUEUE,P.b.ADD_NEXT_PLAYING,P.b.PLAY_SIM_SONG,P.b.ADD_TO_PLAYLIST,P.b.COMMENT,P.b.COPY_LINK,P.b.SHARE]},ke=function(e){var t=e.items,n=e.sectionId,r=e.songsPerCol,o=e.isPlayAll,s=Object(m.C)(),u=Object(c.a)(s,1)[0],d=Object(l.useRef)(t);d.current=t;var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(o?u.playSongInList(e,Object(a.a)(Object(a.a)({},t),{},{songs:d.current.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{sectionId:n})}))})):u.playSong(e))};return i.a.createElement(Z,null,Array.from({length:Re}).map((function(e,a){return i.a.createElement(l.Fragment,{key:"song-list-item-".concat(a)},i.a.createElement(P.m,{items:t.slice(a*r,(a+1)*r),SongItemProps:Te,SongRightProps:{typeButtons:[P.b.FAVORITE,P.b.MORE]},sectionId:n,startIndex:a*r,tracking:Ae,actionTracking:Me,playSongFn:b}))})))};function Se(e,t){var n=[];return t.forEach((function(t){var a=t.encodeId;n.some((function(e){return e.encodeId===a}))||e.includes(a)||n.push(t)})),n}var _e=function(){var e=sessionStorage.getItem(u.Y.SONG_STATION_MEDIAS);if(!e||0===e.length)return[];var t=Object(z.r)(e);return t||[]},Ce=function(e){var t=e.map((function(e){return e.encodeId}));sessionStorage.setItem(u.Y.SONG_STATION_MEDIAS,Object(z.s)(t))},Re=3,xe=Object(l.memo)((function(e){var t=e.className,n=e.title,a=e.subtitle,r=e.songsPerCol,s=void 0===r?4:r,u=e.sectionId,m=void 0===u?"hSongRadio":u,d=e.isPlayAll,f=void 0!==d&&d,E=e.isRefresh,O=void 0!==E&&E,h=e.size,g=void 0===h?20:h,v=Object(o.b)(),j=Object(l.useState)([]),p=Object(c.a)(j,2),I=p[0],N=p[1],y=Object(l.useState)(!1),A=Object(c.a)(y,2),M=A[0],T=A[1],S=Object(l.useState)(!1),_=Object(c.a)(S,2),C=_[0],R=_[1],x=Object(l.useRef)(Date.now()),L=s*Re,D=function(){var e=Object(pe.a)(je.a.mark((function e(){var t,n,a,c,r,l;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,T(!0),e.next=6,Q.getSongStation(g);case 6:n=e.sent,(a=(null===(t=n.data)||void 0===t?void 0:t.items)||[]).length>0&&((c=I.map((function(e){return e.id}))).length||(c=_e()),r=Se(c,a),l=(r.length>=L?r:a).slice(0,L),N(l),Ce(l)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),z.q.error((null===e.t0||void 0===e.t0?void 0:e.t0.code)||Error,"Get Song Station Error",null===e.t0||void 0===e.t0?void 0:e.t0.msg);case 14:return e.prev=14,T(!1),R(!0),x.current=Date.now(),e.finish(14);case 19:case"end":return e.stop()}}),e,null,[[2,11,14,19]])})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){D()}),[]);if(C&&!I.length)return null;return i.a.createElement(b.J,{className:k()("zm-song-station-section",t)},i.a.createElement(b.l,{className:"zm-song-station-section-header"},i.a.createElement(b.l,{className:"song-station-section-header-left"},a&&i.a.createElement(b.M,{subtitle:!0},a),i.a.createElement(b.M,null,n)),i.a.createElement(b.l,{className:"song-station-section-header-right"},O&&i.a.createElement(b.r,{icon:M?i.a.createElement(Ie.r,null):"reset",text:"L\xe0m m\u1edbi",className:k()("refresh-btn",{loading:M}),onClick:function(){Object(q.a)("home_refresh_button_click");var e=Date.now()-x.current;v(Object(q.d)(m,e)),D()}}))),M||!I.length?i.a.createElement(Z,null,Array.from({length:Re}).map((function(e,t){return i.a.createElement(l.Fragment,{key:"song-list-item-".concat(t)},i.a.createElement(ye.a,{showTitle:!1,countItem:s,countSection:1,songItem:i.a.createElement(Ne.a,{size:60}),className:"song-station-loader"}))}))):i.a.createElement(ke,{items:I,sectionId:m,songsPerCol:s,isPlayAll:f}))})),Le=(n(1667),n(50));function De(e){var t=e.chart;return i.a.createElement(b.e,null,i.a.createElement(b.e.Image,{className:"banner-image"},i.a.createElement(Le.a,{to:t.link},i.a.createElement(b.x,{src:t.cover}))))}var Pe=i.a.memo((function(e){var t=e.items,n=void 0===t?[]:t;return i.a.createElement(b.i,{className:"week-chart-section"},i.a.createElement(b.h,{multiline:!0},n.map((function(e){return t=e,i.a.createElement(b.h.Column,{key:"weekChart.item.".concat(t.link),fullhd:4,widescreen:4,desktop:4,touch:4,tablet:4},i.a.createElement(De,{chart:t}));var t}))))})),we=n(15),Ye=n(653),Fe=n(1607),Ge=n(415),ze=n(128),Be=n(138),He=n(275),Ue=n(16),Ve=n(54),Xe=(n(1668),["gallery-item-selected","gallery-item-next","gallery-item-last","gallery-item-first","gallery-item-previous"]);var Ke,Qe=function(e){var t=e.slide,n=e.sectionId,a=Object(l.useRef)(null),r=Object(o.b)(),s=Object(m.E)(),d=Object(c.a)(s,1)[0],f=Object(m.C)(),E=Object(c.a)(f,1)[0],O=Object(m.x)(),h=Object(c.a)(O,1)[0],g=Object(He.a)().playVideo;Object(m.d)(t.tracking,a);var j=Object(l.useMemo)((function(){return Object(Ve.b)(t.link)||Object(z.h)(t.link)}),[t.link]),p=Object(l.useCallback)((function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(b.e.Image,null,i.a.createElement(b.x,{src:t.banner})),i.a.createElement(b.e.Content,null,i.a.createElement(b.M,{renderAs:"div"},t.title),i.a.createElement(b.M,{subtitle:!0},t.description)))}),[t]),I=Object(l.useCallback)(function(){var e=Object(pe.a)(je.a.mark((function e(a){var c,l,i,o,s;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.link.includes("/bai-hat/")){e.next=16;break}return a.preventDefault(),e.prev=2,e.next=5,Be.a.getInfo(t.encodeId);case 5:c=e.sent,(l=c.data).sectionId=n,i={song:l,playSongFn:function(){E.playSong(l,{forcePlay:!0})},addToQueueFn:function(e){return d.add(l,void 0,e)}},r(Object(Ue.o)({type:u.G.FROM_BANNER,option:i})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),e.t0&&z.q.error(e.t0.err,"Banner | Play song | encodeId | link | title | Error",t.encodeId,t.link,t.title,e.t0);case 16:t.link.includes("/video-clip/")&&(a.preventDefault(),(o={encodeId:t.encodeId}).sectionId=n,g(o)),(s=Object(z.n)(t.link))&&(a.preventDefault(),h.playLivestreamWithId(s,!0,"hSlider"));case 19:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return i.a.createElement(b.e,{domRef:a},j?i.a.createElement(b.l,{renderAs:"a",href:t.link,target:"_blank"},p()):i.a.createElement(v.b,{title:t.title,onClick:I,to:{pathname:t.link,state:{sectionId:n}}},p()))},qe=Object(l.memo)((function(e){var t=e.items,n=e.pause,a=void 0===n?"hover":n,r=e.interval,s=void 0===r?5e3:r,u=e.sectionId,m=Object(Ye.a)().width,d=Object(l.useRef)(null),f=Object(l.useRef)([]),O=Object(l.useRef)(1),g=Object(l.useState)(!1),v=Object(c.a)(g,2),j=v[0],p=v[1],I=Object(l.useState)(N.Array.shuffle(t)),y=Object(c.a)(I,1)[0],A=Object(o.c)(h.j),M=Object(o.c)(E.c),T=Object(l.useState)(Xe),k=Object(c.a)(T,2),S=k[0],_=k[1],C=Object(l.useState)(0),R=Object(c.a)(C,2),x=R[0],L=R[1],D=Object(l.useMemo)((function(){var e,t=Object(we.a)(y);return M[ze.b.BANNER_ZID]&&(t=N.Array.insert(t,M[ze.b.BANNER_ZID],N.Number.random(0,t.length-1))),M[ze.b.BANNER_MP3_ZID]&&(t=N.Array.insert(t,M[ze.b.BANNER_MP3_ZID],3)),t.length>=Xe.length?t:(e=t).concat.apply(e,Object(we.a)(t))}),[y,M]);Object(l.useEffect)((function(){var e=D.length-S.length;if(e>0){var t=Object(we.a)(Array(e)).map((function(){return"gallery-item-add"}));t=N.Array.insert(Object(we.a)(S),t,3),_(t)}}),[D]);var P=Object(Fe.a)(S);Object(l.useEffect)((function(){w()}),[S]);var w=function(){for(var e=0;e<S.length;e++){var t=S[e],n=f.current[e];n&&(P&&n.classList.remove(P[e]),n.classList.add(t))}},Y=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(we.a)(S);if(e){var n=t.pop();n&&t.unshift(n)}else{var a=t.shift();a&&t.push(a)}_(t)},F=Object(l.useCallback)((function(){"hover"===a&&p(!0)}),[a]),G=Object(l.useCallback)((function(){p(!1)}),[a]);return Object(l.useEffect)((function(){return j||(O.current=setInterval((function(){Y(!0)}),s)),function(){clearInterval(O.current)}}),[j,Y,s]),Object(l.useEffect)((function(){var e,t=null===(e=f.current[0])||void 0===e?void 0:e.firstElementChild;if(t&&d.current){var n=t.getBoundingClientRect().height;d.current.style.height=n+"px",L(n)}}),[m,x,A]),i.a.createElement(b.i,null,i.a.createElement(b.l,{className:"gallery"},i.a.createElement(b.l,{className:"gallery-container",domRef:d,onMouseEnter:F,onMouseLeave:G},i.a.createElement(b.l,{className:"zm-gallery-prev",onClick:function(){return Y(!1)}},i.a.createElement(Ge.a,{type:"prev",classNameIcon:"ic-go-left",enable:!0})),D.map((function(e,t){return i.a.createElement(b.l,{className:"gallery-item",key:"".concat(t,"-").concat(e.encodeId),domRef:function(e){return f.current[t]=e}},i.a.createElement(Qe,{slide:e,sectionId:u}))})),i.a.createElement(b.l,{className:"zm-gallery-next",onClick:function(){return Y(!0)}},i.a.createElement(Ge.a,{type:"next",classNameIcon:"ic-go-right",enable:!0})))))})),Je=(Ke={},Object(r.a)(Ke,u.X.WEEK_CHART,Pe),Object(r.a)(Ke,u.X.BANNER,qe),Object(r.a)(Ke,u.X.SONG,P.g),Object(r.a)(Ke,u.X.MIX,D),Object(r.a)(Ke,u.X.RECENT,he),Object(r.a)(Ke,u.X.NONLOGGED_RECENT,se),Object(r.a)(Ke,u.X.EFFECT_PLAYLIST,S),Object(r.a)(Ke,u.X.GENRE_MOOD_HOME,W),Object(r.a)(Ke,u.X.NEW_RELEASE,le),Object(r.a)(Ke,u.X.SONG_STATION,xe),Ke),We=[u.X.PLAYLIST,u.X.EFFECT_PLAYLIST,u.X.MIX];var Ze=Object(l.memo)((function(){var e=Object(o.b)(),t=Object(o.c)(f.n),n=Object(o.c)(G.c),r=Object(o.c)(E.a),b=Object(o.c)(F.a),O=Object(o.c)(f.u),h=Object(l.useRef)(t);Object(H.g)();var g=Object(l.useCallback)((function(e){return new Promise((function(t){Q.get(e,30,O).then((function(e){t(e)})).catch((function(e){e&&z.q.error(e.err,"getHomePage | error ",e)}))}))}),[O]),v=Object(m.v)(g,{rootMargin:"300px"}),j=Object(c.a)(v,3),I=j[0],N=j[1],y=j[2];Object(l.useEffect)((function(){var t=document.getElementById(u.p.SECTION_MAIN_LAYOUT),n=void 0,a=void 0;return b&&(a=setInterval((function(){var c=document.getElementsByClassName(b)[0];c&&(clearInterval(a),n=setTimeout((function(){Object(B.scrollTo)(t,c.offsetTop,500),e(Object(Y.d)())}),100))}),100)),function(){a&&clearInterval(a),n&&clearTimeout(n)}}),[b]),Object(l.useEffect)((function(){h.current!=t&&(y.refresh(),h.current=t)}),[t]),Object(l.useEffect)((function(){N.isFetching||n.path!==d.a.HOME||y.refresh()}),[n]),Object(l.useEffect)((function(){return r&&e(Object(w.d)()),function(){r&&e(Object(w.c)())}}),[r]);var A=Object(l.useMemo)((function(){return N.items.filter((function(e){var t=e.items,n=e.sectionType;return!(t&&t.length<5&&We.includes(n))})).map((function(e){var t=e.items,n=void 0===t?[]:t,c=e.sectionType,r=e.options,l=void 0===r?{}:r;return c===u.X.PLAYLIST&&!l.autoSlider&&n.length>5?Object(a.a)(Object(a.a)({},e),{},{items:n.slice(0,5)}):e}))}),[N.items]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.a,{error:N.err,loading:N.isFetching,currentPage:N.currentPage,className:"home-page-content"},Object(p.f)(A,Je,"pad-0"),N.isFetching?i.a.createElement(s.a,null):null,N.hasMore&&!N.isFetching&&i.a.createElement("div",{ref:I,style:{marginTop:"-300px",height:"1px"}}),!N.hasMore&&i.a.createElement(de,null)))}));t.default=Ze}}]);